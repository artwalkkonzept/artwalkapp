{"version":3,"sources":["auth/useToken.js","pages/LogInPage.js","pages/SignUpPage.js","auth/useUser.js","pages/UserInfoPage.js","auth/PrivateRoute.js","logo/ArtWalk_Logo final_ww.png","logo/Logo.js","Routes.js","App.js","reportWebVitals.js","index.js"],"names":["useToken","useState","localStorage","getItem","token","setTokenInternal","newToken","setItem","LogInPage","setToken","errorMessage","emailValue","setEmailValue","passwordValue","setPasswordValue","history","useHistory","onLogInClicked","a","axios","post","email","password","response","data","push","className","value","onChange","e","target","placeholder","type","style","marginRight","disabled","onClick","SignUpPage","confirmPasswordValue","setConfirmPasswordValue","onSignUpClicked","useUser","getPayloadFromToken","encodedPayload","split","JSON","parse","atob","user","setUser","useEffect","UserInfoPage","id","info","name","setName","bild","setBild","showSuccessMessage","setShowSuccessMessage","showErrorMessage","setShowErrorMessage","setTimeout","saveChanges","put","headers","Authorization","removeItem","PrivateRoute","props","to","Gallery","src","companyLogo","width","alt","Routes","path","exact","Logo","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9dfbab90.chunk.js","sourcesContent":["import { useState } from 'react';\n\nexport const useToken = () => {\n    const [token, setTokenInternal] = useState(() => {\n        return localStorage.getItem('token');\n    });\n\n    const setToken = newToken => {\n        localStorage.setItem('token', newToken);\n        setTokenInternal(newToken);\n    }\n\n    return [token, setToken];\n}","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useToken } from '../auth/useToken';\n\nexport const LogInPage = () => {\n    const [token, setToken] = useToken();\n\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const [emailValue, setEmailValue] = useState('');\n    const [passwordValue, setPasswordValue] = useState('');\n\n    const history = useHistory();\n\n    const onLogInClicked = async () => {\n        const response = await axios.post('/api/login', {\n            email: emailValue,\n            password: passwordValue,\n        });\n        const { token } = response.data;\n        setToken(token);\n        history.push('/');\n    }\n\n    return (\n        \n        <div className=\"content-container\">\n            <h3>Log In</h3>\n            <div>\n            {errorMessage && <div className=\"fail\">{errorMessage}</div>}\n            <input\n                value={emailValue}\n                onChange={e => setEmailValue(e.target.value)}\n                placeholder=\"example@mail.com\" />\n            <input\n                type=\"password\"\n                value={passwordValue}\n                onChange={e => setPasswordValue(e.target.value)}\n                placeholder=\"password\" />\n            <li><button  style={{ marginRight: 8 }} \n                disabled={!emailValue || !passwordValue}\n                onClick={onLogInClicked}>Log In</button>\n            <button onClick={() => history.push('/signup')}>Sign Up</button></li>\n            </div>\n        </div>\n    );\n}\n\n/*<li><button\ndisabled={!googleOauthUrl}\nonClick={() => { window.location.href = googleOauthUrl }}\n>Log in with Google</button></li>\n<li><button onClick={() => history.push('/forgot-password')}>Forgot your password?</button></li>\n*/","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useToken } from '../auth/useToken';\n\nexport const SignUpPage = () => {\n    const [token, setToken] = useToken();\n\n    const [errorMessage, setErrorMessage] = useState('');\n\n    const [emailValue, setEmailValue] = useState('');\n    const [passwordValue, setPasswordValue] = useState('');\n    const [confirmPasswordValue, setConfirmPasswordValue] = useState('');\n\n    const history = useHistory();\n\n    const onSignUpClicked = async () => {\n        const response = await axios.post('/api/signup', {\n            email: emailValue,\n            password: passwordValue,\n        });\n        const { token } = response.data;\n        setToken(token);\n        history.push('/');\n    }\n\n    return (\n        <div className=\"content-container\">\n            <h3>Sign Up</h3>\n            {errorMessage && <div className=\"fail\">{errorMessage}</div>}\n            <li><input\n                value={emailValue}\n                onChange={e => setEmailValue(e.target.value)}\n                placeholder=\"someone@gmail.com\" />\n            <input\n                type=\"password\"\n                value={passwordValue}\n                onChange={e => setPasswordValue(e.target.value)}\n                placeholder=\"password\" />\n            <input\n                type=\"password\"\n                value={confirmPasswordValue}\n                onChange={e => setConfirmPasswordValue(e.target.value)}\n                placeholder=\"password\" /></li>\n            <button  style={{ marginRight: 8 }} \n                disabled={\n                    !emailValue || !passwordValue ||\n                    passwordValue !== confirmPasswordValue\n                }\n                onClick={onSignUpClicked}>Sign Up</button>\n            <button onClick={() => history.push('/login')}>Log In</button>\n        </div>\n    );\n}","import { useState, useEffect } from 'react';\nimport { useToken } from './useToken';\n\nexport const useUser = () => {\n    const [token] = useToken();\n\n    const getPayloadFromToken = token => {\n        const encodedPayload = token.split('.')[1];\n        return JSON.parse(atob(encodedPayload));\n    }\n\n    const [user, setUser] = useState(() => {\n        if (!token) return null;\n        return getPayloadFromToken(token);\n    });\n\n    useEffect(() => {\n        if (!token) {\n            setUser(null);\n        } else {\n            setUser(getPayloadFromToken(token));\n        }\n    }, [token]);\n\n    return user;\n}","import { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { useToken } from '../auth/useToken';\nimport { useUser } from '../auth/useUser';\n\nexport const UserInfoPage = () => {\n    const user = useUser();\n    const [token, setToken] = useToken();\n\n    const { id, email, info } = user;\n\n    // We'll use the history to navigate the user\n    // programmatically later on (we're not using it yet)\n    const history = useHistory();\n\n    // These states are bound to the values of the text inputs\n    // on the page (see JSX below). \n    const [name, setName] = useState(info.name || '');\n    const [bild, setBild] = useState(info.bild || '');\n\n    // These state variables control whether or not we show\n    // the success and error message sections after making\n    // a network request (see JSX below).\n    const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n    const [showErrorMessage, setShowErrorMessage] = useState(false);\n\n    // This useEffect hook automatically hides the\n    // success and error messages after 3 seconds when they're shown.\n    // Just a little user interface improvement.\n    useEffect(() => {\n        if (showSuccessMessage || showErrorMessage) {\n            setTimeout(() => {\n                setShowSuccessMessage(false);\n                setShowErrorMessage(false);\n            }, 3000);\n        }\n    }, [showSuccessMessage, showErrorMessage]);\n\n    const saveChanges = async () => {\n        try {\n            const response = await axios.put(`/api/users/${id}`, {\n                name,\n                bild,\n            }, {\n                headers: { Authorization: `Bearer ${token}` }\n            });\n\n            const { token: newToken } = response.data;\n            setToken(newToken);\n            setShowSuccessMessage(true);\n        } catch (error) {\n            setShowErrorMessage(true);\n        }\n    }\n\n    const logOut = () => {\n    localStorage.removeItem(\"token\");\n    history.push(\"./login\");\n    }\n    \n    const resetValues = () => {\n        setName(info.name);\n        setBild(info.bild);\n    }\n    \n    // And here we have the JSX for our component. It's pretty straightforward\n    return (\n        <div className=\"content-container\">\n            <h3>Profil {email}</h3>\n            {showSuccessMessage && <div className=\"success\">Successfully saved user data!</div>}\n            {showErrorMessage && <div className=\"fail\">Uh oh... something went wrong and we couldn't save changes</div>}\n            <li><label>\n                <p>ArtWalk:</p>\n                <input\n                    onChange={e => setName(e.target.value)}\n                    value={name} />\n            </label></li>\n            <li><label>\n                <p>Bilder:</p>\n                <input\n                    onChange={e => setBild(e.target.value)}\n                    value={bild} />\n            </label></li>\n            <button style={{ marginRight: 8 }} onClick={saveChanges}>Save Changes</button>\n            <button onClick={resetValues}>Reset Values</button>\n            <li><button onClick={logOut}>Log Out</button></li>\n        </div>\n    );\n}","import { Redirect, Route } from 'react-router-dom';\nimport { useUser } from './useUser';\n\nexport const PrivateRoute = props => {\n    const user = useUser();\n\n    if (!user) return <Redirect to=\"/login\" />\n\n    return <Route {...props} />\n}","export default __webpack_public_path__ + \"static/media/ArtWalk_Logo final_ww.317c96ce.png\";","import companyLogo from \"./ArtWalk_Logo final_ww.png\";\n\nfunction Gallery() {\n  return (\n    <div>\n      <img src={companyLogo} width=\"270\" alt=\"Artwalk logo\"/>\n    </div>\n  );\n}\n\nexport default Gallery","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { LogInPage } from './pages/LogInPage';\nimport { SignUpPage } from './pages/SignUpPage';\nimport { UserInfoPage } from './pages/UserInfoPage';\nimport { PrivateRoute } from './auth/PrivateRoute';\n\nimport Logo from \"./logo/Logo\";\n\nexport const Routes = () => {\n    return (\n        <Router>\n            <Switch>\n                <PrivateRoute path=\"/\" exact>\n                    <UserInfoPage />\n                </PrivateRoute>\n                <Route path=\"/login\">\n                    <LogInPage />\n                </Route>\n                <Route path=\"/signup\">\n                    <SignUpPage />\n                </Route>\n            </Switch>\n            <Logo />\n        </Router>\n    );\n}","import { Routes } from './Routes';\n\nexport const App = () => {\n    return (\n        <div className=\"page-container\">\n            <Routes />\n        </div>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}