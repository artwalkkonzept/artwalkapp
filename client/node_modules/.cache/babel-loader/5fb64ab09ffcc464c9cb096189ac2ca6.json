{"ast":null,"code":"import React,{Component}from\"react\";import{Redirect}from\"react-router-dom\";import ArtWalkDataService from\"../services/artwalk.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class Profile extends Component{constructor(props){super(props);this.state={redirect:null,userReady:false,currentUser:{username:\"\"}};}componentDidMount(){const currentUser=ArtWalkDataService.getCurrentUser();if(!currentUser)this.setState({redirect:\"/home\"});this.setState({currentUser:currentUser,userReady:true});}render(){if(this.state.redirect){return/*#__PURE__*/_jsx(Redirect,{to:this.state.redirect});}const{currentUser}=this.state;return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:this.state.userReady?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:\"jumbotron\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:currentUser.username}),\" Profile\"]})}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Token:\"}),\" \",currentUser.accessToken.substring(0,20),\" ...\",\" \",currentUser.accessToken.substr(currentUser.accessToken.length-20)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Id:\"}),\" \",currentUser.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",currentUser.email]}),/*#__PURE__*/_jsx(\"strong\",{children:\"Artwalkorities:\"}),/*#__PURE__*/_jsx(\"ul\",{children:currentUser.roles&&currentUser.roles.map((role,index)=>/*#__PURE__*/_jsx(\"li\",{children:role},index))})]}):null});}}","map":{"version":3,"sources":["/Users/admin/Desktop/artwalkapp-peter/artwalkapp/client/src/components/profile.component.js"],"names":["React","Component","Redirect","ArtWalkDataService","Profile","constructor","props","state","redirect","userReady","currentUser","username","componentDidMount","getCurrentUser","setState","render","accessToken","substring","substr","length","id","email","roles","map","role","index"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,QAAT,KAAyB,kBAAzB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,6BAA/B,C,wFAEA,cAAe,MAAMC,CAAAA,OAAN,QAAsBH,CAAAA,SAAU,CAC7CI,WAAW,CAACC,KAAD,CAAQ,CACjB,MAAMA,KAAN,EAEA,KAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,IADC,CAEXC,SAAS,CAAE,KAFA,CAGXC,WAAW,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAHF,CAAb,CAKD,CAEDC,iBAAiB,EAAG,CAClB,KAAMF,CAAAA,WAAW,CAAGP,kBAAkB,CAACU,cAAnB,EAApB,CAEA,GAAI,CAACH,WAAL,CAAkB,KAAKI,QAAL,CAAc,CAAEN,QAAQ,CAAE,OAAZ,CAAd,EAClB,KAAKM,QAAL,CAAc,CAAEJ,WAAW,CAAEA,WAAf,CAA4BD,SAAS,CAAE,IAAvC,CAAd,EACD,CAEDM,MAAM,EAAG,CACP,GAAI,KAAKR,KAAL,CAAWC,QAAf,CAAyB,CACvB,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAE,KAAKD,KAAL,CAAWC,QAAzB,EAAP,CACD,CAED,KAAM,CAAEE,WAAF,EAAkB,KAAKH,KAA7B,CAEA,mBACE,YAAK,SAAS,CAAC,WAAf,UACI,KAAKA,KAAL,CAAWE,SAAZ,cACD,oCACA,eAAQ,SAAS,CAAC,WAAlB,uBACE,mCACE,wBAASC,WAAW,CAACC,QAArB,EADF,cADF,EADA,cAMA,kCACE,kCADF,CAC0B,GAD1B,CAEGD,WAAW,CAACM,WAAZ,CAAwBC,SAAxB,CAAkC,CAAlC,CAAqC,EAArC,CAFH,QAEiD,GAFjD,CAGGP,WAAW,CAACM,WAAZ,CAAwBE,MAAxB,CAA+BR,WAAW,CAACM,WAAZ,CAAwBG,MAAxB,CAAiC,EAAhE,CAHH,GANA,cAWA,kCACE,+BADF,CACuB,GADvB,CAEGT,WAAW,CAACU,EAFf,GAXA,cAeA,kCACE,kCADF,CAC0B,GAD1B,CAEGV,WAAW,CAACW,KAFf,GAfA,cAmBA,2CAnBA,cAoBA,oBACGX,WAAW,CAACY,KAAZ,EACCZ,WAAW,CAACY,KAAZ,CAAkBC,GAAlB,CAAsB,CAACC,IAAD,CAAOC,KAAP,gBAAiB,oBAAiBD,IAAjB,EAASC,KAAT,CAAvC,CAFJ,EApBA,GADC,CAyBK,IA1BR,EADF,CA8BD,CAvD4C","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport ArtWalkDataService from \"../services/artwalk.service\";\n\nexport default class Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      redirect: null,\n      userReady: false,\n      currentUser: { username: \"\" }\n    };\n  }\n\n  componentDidMount() {\n    const currentUser = ArtWalkDataService.getCurrentUser();\n\n    if (!currentUser) this.setState({ redirect: \"/home\" });\n    this.setState({ currentUser: currentUser, userReady: true })\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return <Redirect to={this.state.redirect} />\n    }\n\n    const { currentUser } = this.state;\n\n    return (\n      <div className=\"container\">\n        {(this.state.userReady) ?\n        <div>\n        <header className=\"jumbotron\">\n          <h3>\n            <strong>{currentUser.username}</strong> Profile\n          </h3>\n        </header>\n        <p>\n          <strong>Token:</strong>{\" \"}\n          {currentUser.accessToken.substring(0, 20)} ...{\" \"}\n          {currentUser.accessToken.substr(currentUser.accessToken.length - 20)}\n        </p>\n        <p>\n          <strong>Id:</strong>{\" \"}\n          {currentUser.id}\n        </p>\n        <p>\n          <strong>Email:</strong>{\" \"}\n          {currentUser.email}\n        </p>\n        <strong>Artwalkorities:</strong>\n        <ul>\n          {currentUser.roles &&\n            currentUser.roles.map((role, index) => <li key={index}>{role}</li>)}\n        </ul>\n      </div>: null}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}