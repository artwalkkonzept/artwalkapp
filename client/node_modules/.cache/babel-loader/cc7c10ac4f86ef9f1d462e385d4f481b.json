{"ast":null,"code":"import React,{Component}from\"react\";import ArtWalkPublishedDataService from\"../services/artwalk-published.service\";//import { Link } from \"react-router-dom\";\n//import Pagination from \"@material-ui/lab/Pagination\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class ArtWalksPublished extends Component{constructor(props){super(props);this.onChangeSearchTitle=this.onChangeSearchTitle.bind(this);this.retrieveArtwalks=this.retrieveArtwalks.bind(this);this.refreshList=this.refreshList.bind(this);this.setActiveArtWalk=this.setActiveArtWalk.bind(this);this.removeAllArtWalks=this.removeAllArtWalks.bind(this);this.searchTitle=this.searchTitle.bind(this);this.handlePageChange=this.handlePageChange.bind(this);this.handlePageSizeChange=this.handlePageSizeChange.bind(this);this.state={artwalks:[],currentArtWalk:null,currentIndex:-1,searchTitle:\"\",page:1,count:0,pageSize:1};this.pageSizes=[1,6,9];}componentDidMount(){this.retrieveArtwalks();}onChangeSearchTitle(e){const searchTitle=e.target.value;this.setState({searchTitle:searchTitle});}getRequestParams(searchTitle,page,pageSize){let params={};if(searchTitle){params[\"title\"]=searchTitle;}if(page){params[\"page\"]=page-1;}if(pageSize){params[\"size\"]=pageSize;}return params;}retrieveArtwalks(){const{searchTitle,page,pageSize}=this.state;const params=this.getRequestParams(searchTitle,page,pageSize);ArtWalkPublishedDataService.getAll(params).then(response=>{const{artwalks,totalPages}=response.data;this.setState({artwalks:artwalks,count:totalPages});console.log(response.data);}).catch(e=>{console.log(e);});}refreshList(){this.retrieveArtWalks();this.setState({currentArtWalk:null,currentIndex:-1});}setActiveArtWalk(artwalk,index){this.setState({currentArtWalk:artwalk,currentIndex:index});}removeAllArtWalks(){ArtWalkPublishedDataService.deleteAll().then(response=>{console.log(response.data);this.refreshList();}).catch(e=>{console.log(e);});}handlePageChange(event,value){this.setState({page:value},()=>{this.retrieveArtwalks();});}handlePageSizeChange(event){this.setState({pageSize:event.target.value,page:1},()=>{this.retrieveArtwalks();});}searchTitle(){this.setState({currentArtWalk:null,currentIndex:-1});ArtWalkPublishedDataService.findByTitle(this.state.searchTitle).then(response=>{this.setState({artwalks:response.data});console.log(response.data);}).catch(e=>{console.log(e);});}render(){const{searchTitle,artwalks,currentArtWalk,currentIndex}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"list row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mb-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Search by title\",value:searchTitle,onChange:this.onChangeSearchTitle}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group-append\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary\",type:\"button\",onClick:this.retrieveArtwalks,children:\"Search\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"ArtWalk post\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:artwalks&&artwalks.map((artwalk,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item \"+(index===currentIndex?\"active\":\"\"),ref:this.simulateClick,onClick:()=>this.setActiveArtWalk(artwalk,index),children:/*#__PURE__*/_jsx(\"h4\",{children:artwalk.title})},index))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:currentArtWalk?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"ArtWalk\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"})}),\" \",currentArtWalk.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"})}),\" \",currentArtWalk.description]})]}):/*#__PURE__*/_jsx(\"div\",{})})]});}}/* <div>\n                <label>\n                  <strong>Status:</strong>\n                </label>{\" \"}\n                {currentArtWalk.published ? \"Published\" : \"Pending\"}\n              </div>\n\n              <Link\n                to={\"/artwalks/\" + currentArtWalk.id}\n                className=\"btn btn-warning\"\n              >\n                Edit\n              </Link>\n              \n              \n               <button\n            className=\"m-3 btn btn-danger\"\n            onClick={this.removeAllArtWalks}\n          >\n            //Remove All\n          </button>\n          \n          \n           <div className=\"mt-3\">\n            {\"Items per Page: \"}\n            <select onChange={this.handlePageSizeChange} value={pageSize}>\n              {this.pageSizes.map((size) => (\n                <option key={size} value={size}>\n                  {size}\n                </option>\n              ))}\n            </select>\n            \n            <Pagination\n              className=\"my-3\"\n              count={count}\n              page={page}\n              siblingCount={1}\n              boundaryCount={1}\n              variant=\"outlined\"\n              shape=\"rounded\"\n              onChange={this.handlePageChange}\n            />\n          </div>*/","map":{"version":3,"sources":["/Users/admin/Desktop/artwalkapp-peter/artwalkapp/client/src/components/artwalk-published.component.js"],"names":["React","Component","ArtWalkPublishedDataService","ArtWalksPublished","constructor","props","onChangeSearchTitle","bind","retrieveArtwalks","refreshList","setActiveArtWalk","removeAllArtWalks","searchTitle","handlePageChange","handlePageSizeChange","state","artwalks","currentArtWalk","currentIndex","page","count","pageSize","pageSizes","componentDidMount","e","target","value","setState","getRequestParams","params","getAll","then","response","totalPages","data","console","log","catch","retrieveArtWalks","artwalk","index","deleteAll","event","findByTitle","render","map","simulateClick","title","description"],"mappings":"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AAD,CAAUC,KAAV,gBACxB,WACE,SAAS,CACP,oBACCA,KAAK,GAAKtB,YAAV,CAAyB,QAAzB,CAAoC,EADrC,CAFJ,CAKE,GAAG,CAAE,KAAK4B,aALZ,CAME,OAAO,CAAE,IAAM,KAAKpC,gBAAL,CAAsB6B,OAAtB,CAA+BC,KAA/B,CANjB,uBAQE,oBAAKD,OAAO,CAACQ,KAAb,EARF,EAOOP,KAPP,CADW,CADf,EAHF,GAnBF,cAsCE,YAAK,SAAS,CAAC,UAAf,UACGvB,cAAc,cACb,oCACE,+BADF,cAEE,oCACE,oCACE,kCADF,EADF,CAGW,GAHX,CAIGA,cAAc,CAAC8B,KAJlB,GAFF,cAQE,oCACE,oCACE,wCADF,EADF,CAGW,GAHX,CAIG9B,cAAc,CAAC+B,WAJlB,GARF,GADa,cAkBb,cAnBJ,EAtCF,GADF,CAgED,CAlNsD,CAqNzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from \"react\";\nimport ArtWalkPublishedDataService from \"../services/artwalk-published.service\";\n//import { Link } from \"react-router-dom\";\n\n\n//import Pagination from \"@material-ui/lab/Pagination\";\n\nexport default class ArtWalksPublished extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeSearchTitle = this.onChangeSearchTitle.bind(this);\n    this.retrieveArtwalks = this.retrieveArtwalks.bind(this);\n    this.refreshList = this.refreshList.bind(this);\n    this.setActiveArtWalk = this.setActiveArtWalk.bind(this);\n    this.removeAllArtWalks = this.removeAllArtWalks.bind(this);\n    this.searchTitle = this.searchTitle.bind(this);\n    this.handlePageChange = this.handlePageChange.bind(this);\n    this.handlePageSizeChange = this.handlePageSizeChange.bind(this);\n\n    this.state = {\n      artwalks: [],\n      currentArtWalk: null,\n      currentIndex: -1,\n      searchTitle: \"\",\n\n      page: 1,\n      count: 0,\n      pageSize: 1,\n    };\n\n    this.pageSizes = [1, 6, 9];\n  }\n\n  componentDidMount() {\n    this.retrieveArtwalks();\n  }\n\n  onChangeSearchTitle(e) {\n    const searchTitle = e.target.value;\n\n    this.setState({\n      searchTitle: searchTitle\n    });\n  }\n\n\n  getRequestParams(searchTitle, page, pageSize) {\n    let params = {};\n\n    if (searchTitle) {\n      params[\"title\"] = searchTitle;\n    }\n\n    if (page) {\n      params[\"page\"] = page - 1;\n    }\n\n    if (pageSize) {\n      params[\"size\"] = pageSize;\n    }\n\n    return params;\n  }\n\n retrieveArtwalks() {\n    const { searchTitle, page, pageSize } = this.state;\n    const params = this.getRequestParams(searchTitle, page, pageSize);\n\n    ArtWalkPublishedDataService.getAll(params)\n      .then((response) => {\n        const { artwalks, totalPages } = response.data;\n\n        this.setState({\n          artwalks: artwalks,\n          count: totalPages,\n        });\n        console.log(response.data);\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  refreshList() {\n    this.retrieveArtWalks();\n    this.setState({\n      currentArtWalk: null,\n      currentIndex: -1\n    });\n  }\n\n  setActiveArtWalk(artwalk, index) {\n    this.setState({\n      currentArtWalk: artwalk,\n      currentIndex: index\n    });\n  }\n\n  removeAllArtWalks() {\n    ArtWalkPublishedDataService.deleteAll()\n      .then(response => {\n        console.log(response.data);\n        this.refreshList();\n      })\n      .catch((e) => {\n        console.log(e);\n      });\n  }\n\n  handlePageChange(event, value) {\n    this.setState(\n      {\n        page: value,\n      },\n      () => {\n        this.retrieveArtwalks();\n      }\n    );\n  }\n\n  handlePageSizeChange(event) {\n    this.setState(\n      {\n        pageSize: event.target.value,\n        page: 1\n      },\n      () => {\n        this.retrieveArtwalks();\n      }\n    );\n  }\n\n  searchTitle() {\n    this.setState({\n      currentArtWalk: null,\n      currentIndex: -1\n    });\n\n    ArtWalkPublishedDataService.findByTitle(this.state.searchTitle)\n      .then(response => {\n        this.setState({\n          artwalks: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { searchTitle, artwalks, currentArtWalk, currentIndex, } = this.state;\n\n    return (\n      <div className=\"list row\">\n        <div className=\"col-md-8\">\n          <div className=\"input-group mb-3\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              placeholder=\"Search by title\"\n              value={searchTitle}\n              onChange={this.onChangeSearchTitle}/>\n            <div className=\"input-group-append\">\n              <button\n                className=\"btn btn-outline-secondary\"\n                type=\"button\"\n                onClick={this.retrieveArtwalks}>\n                Search\n              </button>\n            </div>\n          </div>\n        </div>\n        <div className=\"col-md-6\">\n          <h4>ArtWalk post</h4>\n\n          <ul className=\"list-group\">\n            {artwalks && artwalks.map((artwalk, index) => (\n              <li\n                className={\n                  \"list-group-item \" +\n                  (index === currentIndex ? \"active\" : \"\")\n                }\n                ref={this.simulateClick}\n                onClick={() => this.setActiveArtWalk(artwalk, index)}\n                key={index}>\n                <h4>{artwalk.title}</h4>\n              </li>\n            ))}\n          </ul>\n         \n        </div>\n        <div className=\"col-md-6\">\n          {currentArtWalk ? (\n            <div>\n              <h4>ArtWalk</h4>\n              <div>\n                <label>\n                  <strong>Title:</strong>\n                </label>{\" \"}\n                {currentArtWalk.title}\n              </div>\n              <div>\n                <label>\n                  <strong>Description:</strong>\n                </label>{\" \"}\n                {currentArtWalk.description}\n              </div>\n            \n            </div>\n          ) : (\n            <div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\n/* <div>\n                <label>\n                  <strong>Status:</strong>\n                </label>{\" \"}\n                {currentArtWalk.published ? \"Published\" : \"Pending\"}\n              </div>\n\n              <Link\n                to={\"/artwalks/\" + currentArtWalk.id}\n                className=\"btn btn-warning\"\n              >\n                Edit\n              </Link>\n              \n              \n               <button\n            className=\"m-3 btn btn-danger\"\n            onClick={this.removeAllArtWalks}\n          >\n            //Remove All\n          </button>\n          \n          \n           <div className=\"mt-3\">\n            {\"Items per Page: \"}\n            <select onChange={this.handlePageSizeChange} value={pageSize}>\n              {this.pageSizes.map((size) => (\n                <option key={size} value={size}>\n                  {size}\n                </option>\n              ))}\n            </select>\n            \n            <Pagination\n              className=\"my-3\"\n              count={count}\n              page={page}\n              siblingCount={1}\n              boundaryCount={1}\n              variant=\"outlined\"\n              shape=\"rounded\"\n              onChange={this.handlePageChange}\n            />\n          </div>*/"]},"metadata":{},"sourceType":"module"}