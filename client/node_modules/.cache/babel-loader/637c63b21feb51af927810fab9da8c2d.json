{"ast":null,"code":"import React,{Component}from\"react\";import ArtWalkDataService from\"../services/artwalk.service\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class ArtWalk extends Component{constructor(props){super(props);this.onChangeTitle=this.onChangeTitle.bind(this);this.onChangeDescription=this.onChangeDescription.bind(this);this.getArtWalk=this.getArtWalk.bind(this);this.updatePublished=this.updatePublished.bind(this);this.updateArtWalk=this.updateArtWalk.bind(this);this.deleteArtWalk=this.deleteArtWalk.bind(this);this.state={currentArtWalk:{id:null,title:\"\",description:\"\",published:false},message:\"\"};}componentDidMount(){this.getArtWalk(this.props.match.params.id);}onChangeTitle(e){const title=e.target.value;this.setState(function(prevState){return{currentArtWalk:{...prevState.currentArtWalk,title:title}};});}onChangeDescription(e){const description=e.target.value;this.setState(prevState=>({currentArtWalk:{...prevState.currentArtWalk,description:description}}));}getArtWalk(id){ArtWalkDataService.get(id).then(response=>{this.setState({currentArtWalk:response.data});console.log(response.data);}).catch(e=>{console.log(e);});}updatePublished(status){var data={id:this.state.currentArtWalk.id,title:this.state.currentArtWalk.title,description:this.state.currentArtWalk.description,published:status};ArtWalkDataService.update(this.state.currentArtWalk.id,data).then(response=>{this.setState(prevState=>({currentArtWalk:{...prevState.currentArtWalk,published:status}}));console.log(response.data);}).catch(e=>{console.log(e);});}updateArtWalk(){ArtWalkDataService.update(this.state.currentArtWalk.id,this.state.currentArtWalk).then(response=>{console.log(response.data);this.setState({message:\"The artwalk was updated successfully!\"});}).catch(e=>{console.log(e);});}deleteArtWalk(){ArtWalkDataService.delete(this.state.currentArtWalk.id).then(response=>{console.log(response.data);this.props.history.push('/artwalks');}).catch(e=>{console.log(e);});}render(){const{currentArtWalk}=this.state;return/*#__PURE__*/_jsx(\"div\",{children:currentArtWalk?/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"ArtWalk\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"title\",value:currentArtWalk.title,onChange:this.onChangeTitle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"description\",value:currentArtWalk.description,onChange:this.onChangeDescription})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"})}),currentArtWalk.published?\"Published\":\"Pending\"]})]}),currentArtWalk.published?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mr-2\",onClick:()=>this.updatePublished(false),children:\"UnPublish\"}):/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mr-2\",onClick:()=>this.updatePublished(true),children:\"Publish\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger mr-2\",onClick:this.deleteArtWalk,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-success\",onClick:this.updateArtWalk,children:\"Update\"}),/*#__PURE__*/_jsx(\"p\",{children:this.state.message})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"p\",{children:\"Please click on a ArtWalk news post\"})]})});}}","map":{"version":3,"sources":["/Users/admin/Desktop/artwalkapp-peter/artwalkapp/client/src/components/artwalk.component.js"],"names":["React","Component","ArtWalkDataService","ArtWalk","constructor","props","onChangeTitle","bind","onChangeDescription","getArtWalk","updatePublished","updateArtWalk","deleteArtWalk","state","currentArtWalk","id","title","description","published","message","componentDidMount","match","params","e","target","value","setState","prevState","get","then","response","data","console","log","catch","status","update","delete","history","push","render"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,kBAAP,KAA+B,6BAA/B,C,wFAEA,cAAe,MAAMC,CAAAA,OAAN,QAAsBF,CAAAA,SAAU,CAC7CG,WAAW,CAACC,KAAD,CAAQ,CACjB,MAAMA,KAAN,EACA,KAAKC,aAAL,CAAqB,KAAKA,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAArB,CACA,KAAKC,mBAAL,CAA2B,KAAKA,mBAAL,CAAyBD,IAAzB,CAA8B,IAA9B,CAA3B,CACA,KAAKE,UAAL,CAAkB,KAAKA,UAAL,CAAgBF,IAAhB,CAAqB,IAArB,CAAlB,CACA,KAAKG,eAAL,CAAuB,KAAKA,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAAvB,CACA,KAAKI,aAAL,CAAqB,KAAKA,aAAL,CAAmBJ,IAAnB,CAAwB,IAAxB,CAArB,CACA,KAAKK,aAAL,CAAqB,KAAKA,aAAL,CAAmBL,IAAnB,CAAwB,IAAxB,CAArB,CAEA,KAAKM,KAAL,CAAa,CACXC,cAAc,CAAE,CACdC,EAAE,CAAE,IADU,CAEdC,KAAK,CAAE,EAFO,CAGdC,WAAW,CAAE,EAHC,CAIdC,SAAS,CAAE,KAJG,CADL,CAOXC,OAAO,CAAE,EAPE,CAAb,CASD,CAEDC,iBAAiB,EAAG,CAClB,KAAKX,UAAL,CAAgB,KAAKJ,KAAL,CAAWgB,KAAX,CAAiBC,MAAjB,CAAwBP,EAAxC,EACD,CAEDT,aAAa,CAACiB,CAAD,CAAI,CACf,KAAMP,CAAAA,KAAK,CAAGO,CAAC,CAACC,MAAF,CAASC,KAAvB,CAEA,KAAKC,QAAL,CAAc,SAASC,SAAT,CAAoB,CAChC,MAAO,CACLb,cAAc,CAAE,CACd,GAAGa,SAAS,CAACb,cADC,CAEdE,KAAK,CAAEA,KAFO,CADX,CAAP,CAMD,CAPD,EAQD,CAEDR,mBAAmB,CAACe,CAAD,CAAI,CACrB,KAAMN,CAAAA,WAAW,CAAGM,CAAC,CAACC,MAAF,CAASC,KAA7B,CAEA,KAAKC,QAAL,CAAcC,SAAS,GAAK,CAC1Bb,cAAc,CAAE,CACd,GAAGa,SAAS,CAACb,cADC,CAEdG,WAAW,CAAEA,WAFC,CADU,CAAL,CAAvB,EAMD,CAEDR,UAAU,CAACM,EAAD,CAAK,CACbb,kBAAkB,CAAC0B,GAAnB,CAAuBb,EAAvB,EACGc,IADH,CACQC,QAAQ,EAAI,CAChB,KAAKJ,QAAL,CAAc,CACZZ,cAAc,CAAEgB,QAAQ,CAACC,IADb,CAAd,EAGAC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB,EACD,CANH,EAOGG,KAPH,CAOSX,CAAC,EAAI,CACVS,OAAO,CAACC,GAAR,CAAYV,CAAZ,EACD,CATH,EAUD,CAEDb,eAAe,CAACyB,MAAD,CAAS,CACtB,GAAIJ,CAAAA,IAAI,CAAG,CACThB,EAAE,CAAE,KAAKF,KAAL,CAAWC,cAAX,CAA0BC,EADrB,CAETC,KAAK,CAAE,KAAKH,KAAL,CAAWC,cAAX,CAA0BE,KAFxB,CAGTC,WAAW,CAAE,KAAKJ,KAAL,CAAWC,cAAX,CAA0BG,WAH9B,CAITC,SAAS,CAAEiB,MAJF,CAAX,CAOAjC,kBAAkB,CAACkC,MAAnB,CAA0B,KAAKvB,KAAL,CAAWC,cAAX,CAA0BC,EAApD,CAAwDgB,IAAxD,EACGF,IADH,CACQC,QAAQ,EAAI,CAChB,KAAKJ,QAAL,CAAcC,SAAS,GAAK,CAC1Bb,cAAc,CAAE,CACd,GAAGa,SAAS,CAACb,cADC,CAEdI,SAAS,CAAEiB,MAFG,CADU,CAAL,CAAvB,EAMAH,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB,EACD,CATH,EAUGG,KAVH,CAUSX,CAAC,EAAI,CACVS,OAAO,CAACC,GAAR,CAAYV,CAAZ,EACD,CAZH,EAaD,CAEDZ,aAAa,EAAG,CACdT,kBAAkB,CAACkC,MAAnB,CACE,KAAKvB,KAAL,CAAWC,cAAX,CAA0BC,EAD5B,CAEE,KAAKF,KAAL,CAAWC,cAFb,EAIGe,IAJH,CAIQC,QAAQ,EAAI,CAChBE,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB,EACA,KAAKL,QAAL,CAAc,CACZP,OAAO,CAAE,uCADG,CAAd,EAGD,CATH,EAUGe,KAVH,CAUSX,CAAC,EAAI,CACVS,OAAO,CAACC,GAAR,CAAYV,CAAZ,EACD,CAZH,EAaD,CAEDX,aAAa,EAAG,CACdV,kBAAkB,CAACmC,MAAnB,CAA0B,KAAKxB,KAAL,CAAWC,cAAX,CAA0BC,EAApD,EACGc,IADH,CACQC,QAAQ,EAAI,CAChBE,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACC,IAArB,EACA,KAAK1B,KAAL,CAAWiC,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACD,CAJH,EAKGL,KALH,CAKSX,CAAC,EAAI,CACVS,OAAO,CAACC,GAAR,CAAYV,CAAZ,EACD,CAPH,EAQD,CAEDiB,MAAM,EAAG,CACP,KAAM,CAAE1B,cAAF,EAAqB,KAAKD,KAAhC,CAEA,mBACE,qBACGC,cAAc,cACb,aAAK,SAAS,CAAC,WAAf,wBACE,+BADF,cAEE,qCACE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,OAAf,mBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,OAHL,CAIE,KAAK,CAAEA,cAAc,CAACE,KAJxB,CAKE,QAAQ,CAAE,KAAKV,aALjB,EAFF,GADF,cAWE,aAAK,SAAS,CAAC,YAAf,wBACE,cAAO,OAAO,CAAC,aAAf,yBADF,cAEE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,aAHL,CAIE,KAAK,CAAEQ,cAAc,CAACG,WAJxB,CAKE,QAAQ,CAAE,KAAKT,mBALjB,EAFF,GAXF,cAsBE,aAAK,SAAS,CAAC,YAAf,wBACE,oCACE,mCADF,EADF,CAIGM,cAAc,CAACI,SAAf,CAA2B,WAA3B,CAAyC,SAJ5C,GAtBF,GAFF,CAgCGJ,cAAc,CAACI,SAAf,cACC,eACE,SAAS,CAAC,sBADZ,CAEE,OAAO,CAAE,IAAM,KAAKR,eAAL,CAAqB,KAArB,CAFjB,uBADD,cAQC,eACE,SAAS,CAAC,sBADZ,CAEE,OAAO,CAAE,IAAM,KAAKA,eAAL,CAAqB,IAArB,CAFjB,qBAxCJ,cAgDE,eACE,SAAS,CAAC,qBADZ,CAEE,OAAO,CAAE,KAAKE,aAFhB,oBAhDF,cAuDE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,iBAFZ,CAGE,OAAO,CAAE,KAAKD,aAHhB,oBAvDF,cA8DE,mBAAI,KAAKE,KAAL,CAAWM,OAAf,EA9DF,GADa,cAkEb,oCACE,aADF,cAEE,0DAFF,GAnEJ,EADF,CA2ED,CA9L4C","sourcesContent":["import React, { Component } from \"react\";\nimport ArtWalkDataService from \"../services/artwalk.service\";\n\nexport default class ArtWalk extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeDescription = this.onChangeDescription.bind(this);\n    this.getArtWalk = this.getArtWalk.bind(this);\n    this.updatePublished = this.updatePublished.bind(this);\n    this.updateArtWalk = this.updateArtWalk.bind(this);\n    this.deleteArtWalk = this.deleteArtWalk.bind(this);\n\n    this.state = {\n      currentArtWalk: {\n        id: null,\n        title: \"\",\n        description: \"\",\n        published: false\n      },\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getArtWalk(this.props.match.params.id);\n  }\n\n  onChangeTitle(e) {\n    const title = e.target.value;\n\n    this.setState(function(prevState) {\n      return {\n        currentArtWalk: {\n          ...prevState.currentArtWalk,\n          title: title\n        }\n      };\n    });\n  }\n\n  onChangeDescription(e) {\n    const description = e.target.value;\n    \n    this.setState(prevState => ({\n      currentArtWalk: {\n        ...prevState.currentArtWalk,\n        description: description\n      }\n    }));\n  }\n\n  getArtWalk(id) {\n    ArtWalkDataService.get(id)\n      .then(response => {\n        this.setState({\n          currentArtWalk: response.data\n        });\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  updatePublished(status) {\n    var data = {\n      id: this.state.currentArtWalk.id,\n      title: this.state.currentArtWalk.title,\n      description: this.state.currentArtWalk.description,\n      published: status\n    };\n\n    ArtWalkDataService.update(this.state.currentArtWalk.id, data)\n      .then(response => {\n        this.setState(prevState => ({\n          currentArtWalk: {\n            ...prevState.currentArtWalk,\n            published: status\n          }\n        }));\n        console.log(response.data);\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  updateArtWalk() {\n    ArtWalkDataService.update(\n      this.state.currentArtWalk.id,\n      this.state.currentArtWalk\n    )\n      .then(response => {\n        console.log(response.data);\n        this.setState({\n          message: \"The artwalk was updated successfully!\"\n        });\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  deleteArtWalk() {    \n    ArtWalkDataService.delete(this.state.currentArtWalk.id)\n      .then(response => {\n        console.log(response.data);\n        this.props.history.push('/artwalks')\n      })\n      .catch(e => {\n        console.log(e);\n      });\n  }\n\n  render() {\n    const { currentArtWalk } = this.state;\n\n    return (\n      <div>\n        {currentArtWalk ? (\n          <div className=\"edit-form\">\n            <h4>ArtWalk</h4>\n            <form>\n              <div className=\"form-group\">\n                <label htmlFor=\"title\">Title</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"title\"\n                  value={currentArtWalk.title}\n                  onChange={this.onChangeTitle}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"description\">Description</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  id=\"description\"\n                  value={currentArtWalk.description}\n                  onChange={this.onChangeDescription}\n                />\n              </div>\n\n              <div className=\"form-group\">\n                <label>\n                  <strong>Status:</strong>\n                </label>\n                {currentArtWalk.published ? \"Published\" : \"Pending\"}\n              </div>\n            </form>\n\n            {currentArtWalk.published ? (\n              <button\n                className=\"btn btn-primary mr-2\"\n                onClick={() => this.updatePublished(false)}\n              >\n                UnPublish\n              </button>\n            ) : (\n              <button\n                className=\"btn btn-primary mr-2\"\n                onClick={() => this.updatePublished(true)}\n              >\n                Publish\n              </button>\n            )}\n\n            <button\n              className=\"btn btn-danger mr-2\"\n              onClick={this.deleteArtWalk}\n            >\n              Delete\n            </button >\n\n            <button\n              type=\"submit\"\n              className=\"btn btn-success\"\n              onClick={this.updateArtWalk}\n            >\n              Update\n            </button>\n            <p>{this.state.message}</p>\n          </div>\n        ) : (\n          <div>\n            <br />\n            <p>Please click on a ArtWalk news post</p>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}